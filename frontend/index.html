<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>EzeeVote ‚Äî Smart Online Voting</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header>
    <h1>üó≥Ô∏è EzeeVote</h1>
    <button id="theme-toggle" class="theme-btn">üåô</button>
  </header>

  <main>
    <section id="register-section" class="card">
      <h2>Create Account</h2>
      <form id="register-form">
        <input id="reg-name" type="text" placeholder="Full name" required />
        <input id="reg-email" type="email" placeholder="Email" required />
        <input id="reg-password" type="password" placeholder="Password" required />
        <button type="submit">Register</button>
      </form>
      <p>Already have account? <a href="#" onclick="showLogin()">Login</a></p>
    </section>

    <section id="otp-section" class="card" style="display:none;">
      <h2>Verify Email (OTP)</h2>
      <p>We sent a 6-digit code to your email</p>
      <form id="otp-form">
        <input id="otp-email" type="email" placeholder="Registered email" required />
        <div style="display:flex;gap:10px">
          <input id="otp-code" type="text" placeholder="Enter OTP" required />
          <button id="resend-otp" type="button">Resend</button>
        </div>
        <button type="submit">Verify</button>
      </form>
    </section>

    <section id="login-section" class="card" style="display:none;">
      <h2>Login</h2>
      <form id="login-form">
        <input id="login-email" type="email" placeholder="Email" required />
        <input id="login-password" type="password" placeholder="Password" required />
        <button type="submit">Login</button>
      </form>
      <p><a href="#" id="forgot-link">Forgot password?</a></p>
    </section>

    <section id="forgot-section" class="card" style="display:none;">
      <h2>Forgot Password</h2>
      <form id="forgot-form">
        <input id="forgot-email" type="email" placeholder="Your email" required />
        <button type="submit">Send reset link</button>
      </form>
    </section>

    <section id="reset-section" class="card" style="display:none;">
      <h2>Reset Password</h2>
      <form id="reset-form">
        <input id="reset-token" type="text" placeholder="Reset token (from link)" required />
        <input id="reset-password" type="password" placeholder="New password" required />
        <button type="submit">Reset</button>
      </form>
    </section>

    <section id="profile-section" class="card" style="display:none;">
      <h2>My Profile</h2>
      <img id="profile-photo" src="" alt="Profile" style="display:none" />
      <form id="photo-form">
        <input id="photo-file" type="file" accept="image/*" />
        <button type="submit">Upload</button>
      </form>
      <h3 id="user-name"></h3>
    </section>

    <section id="voting-section" class="card" style="display:none;">
      <h2>Cast Vote</h2>
      <div id="candidates-list" class="candidates"></div>
      <div style="display:flex;gap:10px;justify-content:center;">
        <button onclick="viewResults()">View Results</button>
        <button onclick="logout()">Logout</button>
      </div>
    </section>

    <section id="results-section" class="card" style="display:none;">
      <h2>Results</h2>
      <canvas id="resultsChart" style="width:100%;max-width:650px;height:300px;"></canvas>
      <table id="results-table"></table>
      <button onclick="backToVote()">Back</button>
    </section>
  </main>

  <div id="popup" class="popup" style="display:none;"><div id="popup-message"></div><button onclick="closePopup()">OK</button></div>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="app.js"></script>
</body>
</html>
